<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for contracts/wTomex.sol</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">contracts/</a> wTomex.sol
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>69/69</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">81.48% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>88/108</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>23/23</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">97.87% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>92/94</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-yes">16×</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">113×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">105×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-yes">110×</span>
<span class="cline-any cline-yes">63×</span>
<span class="cline-any cline-yes">63×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">19×</span>
<span class="cline-any cline-yes">19×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">29×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">29×</span>
<span class="cline-any cline-yes">25×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">62×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">62×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">61×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">61×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;
&nbsp;
import "@openzeppelin/contracts/token/ERC20/ERC20.sol";
import "@openzeppelin/contracts/utils/ReentrancyGuard.sol";
&nbsp;
contract TomaxToken is ERC20, ReentrancyGuard {
    uint256 public constant TOTAL_SUPPLY = 25000000 * 10 ** 18; // 25 million tokens
    uint256 public constant INITIAL_CIRCULATING_SUPPLY = 7000000 * 10 ** 18; // 7 million tokens
    uint256 public lockedSupply = TOTAL_SUPPLY - INITIAL_CIRCULATING_SUPPLY; // 18 million tokens
    uint256 approvalsCount;
    uint256 public currentYear = 1;
    uint256 public releasePercentage = 5; // Starts with 5% for the first 5 years
    bool public paused;
    address[] public owners;
    mapping(address =&gt; bool) public isOwner;
    address public superAdmin; // Address of the Super Admin
    mapping(bytes32 =&gt; mapping(address =&gt; bool)) public approvals; // Mapping for tracking multi-signature approvals
&nbsp;
    uint256 public constant REQUIRED_APPROVALS = 3; // Minimum number of approvals out of 5 required for executing certain functions
&nbsp;
    event TokensReleased(
        uint256 year,
        uint256 amountReleased,
        uint256 remainingLockedSupply
    );
    event Wrapped(address indexed user, uint256 amount);
    event Unwrapped(address indexed user, uint256 amount);
    event OwnerApproved(address indexed owner, bytes32 requestHash);
    event SuperAdminChanged(
        address indexed oldSuperAdmin,
        address indexed newSuperAdmin
    );
&nbsp;
    constructor(
        address[] memory initialOwners,
        address _superAdmin
    ) ERC20("Tomax", "TOMAX") {
        require(initialOwners.length == 5, "There must be exactly 5 owners.");
        for (uint256 i = 0; i &lt; initialOwners.length; i++) {
            require(initialOwners[i] != address(0), "Invalid owner address.");
            require(!isOwner[initialOwners[i]], "Duplicate owner address.");
            owners.push(initialOwners[i]);
            isOwner[initialOwners[i]] = true;
        }
&nbsp;
        require(_superAdmin != address(0), "Invalid Super Admin address.");
        superAdmin = _superAdmin;
&nbsp;
        _mint(msg.sender, INITIAL_CIRCULATING_SUPPLY); // Mint initial circulating supply
    }
&nbsp;
    modifier onlyWhitelisted() {
        require(
            isOwner[msg.sender] || msg.sender == superAdmin,
            "Not an authorized account."
        );
        _;
    }
&nbsp;
    modifier multiSigApproval(bytes32 requestHash) {
        for (uint256 i = 0; i &lt; owners.length; i++) {
            if (approvals[requestHash][owners[i]]) {
                approvalsCount++;
                approvals[requestHash][owners[i]] = false;
            }
        }
        require(
            approvalsCount &gt;= REQUIRED_APPROVALS,
            "Not enough approvals from owners."
        );
        approvalsCount = 0;
        _;
    }
&nbsp;
    modifier whenNotPausedAndOnlyEOA() {
        <span class="missing-if-branch" title="else path not taken" >E</span>require(
            tx.origin == msg.sender,
            "Only the EOA can execute this function"
        );
        require(!paused, "Contract is paused !");
        _;
    }
&nbsp;
    // Function to pause the contract (multi-sig required)
    function pause() external onlyWhitelisted {
        bytes32 requestHash = keccak256(abi.encodePacked("pause", currentYear));
        _pause(requestHash);
    }
&nbsp;
    // Internal function to handle the pause functionality with multi-sig approval
    function _pause(
        bytes32 requestHash
    ) internal <span class="missing-if-branch" title="else path not taken" >E</span>multiSigApproval(requestHash) {
        <span class="missing-if-branch" title="else path not taken" >E</span>require(!paused, "Already paused");
        paused = true;
    }
&nbsp;
    // Function to unpause the contract (multi-sig required)
    function unpause() external onlyWhitelisted {
        bytes32 requestHash = keccak256(
            abi.encodePacked("unpause", currentYear)
        );
        _unpause(requestHash);
    }
&nbsp;
    // Internal function to handle the unpause functionality with multi-sig approval
    function _unpause(
        bytes32 requestHash
    ) internal <span class="missing-if-branch" title="else path not taken" >E</span>multiSigApproval(requestHash) {
        <span class="missing-if-branch" title="else path not taken" >E</span>require(paused, "Contract is not paused");
        paused = false;
    }
&nbsp;
    // Example action to change the Super Admin
    function changeSuperAdmin(
        address newSuperAdmin
    ) external onlyWhitelisted whenNotPausedAndOnlyEOA {
        require(newSuperAdmin != address(0), "Invalid Super Admin address.");
        bytes32 requestHash = keccak256(
            abi.encodePacked("changeSuperAdmin", currentYear)
        );
        _changeSuperAdmin(newSuperAdmin, requestHash);
    }
&nbsp;
    // Internal function to change the super admin with multi-sig approval
    function _changeSuperAdmin(
        address newSuperAdmin,
        bytes32 requestHash
    ) internal multiSigApproval(requestHash) {
        address oldSuperAdmin = superAdmin;
        superAdmin = newSuperAdmin;
        emit SuperAdminChanged(oldSuperAdmin, newSuperAdmin);
    }
&nbsp;
    // Function to calculate annual release
    function calculateAnnualRelease(
        uint256 _lockedSupply,
        uint256 _releasePercentage
    ) internal pure returns (uint256) {
        return (_lockedSupply * _releasePercentage) / 100;
    }
&nbsp;
    // Function to release locked tokens annually with multi-signature approval and superAdmin execution
    function releaseTokens() external onlyWhitelisted whenNotPausedAndOnlyEOA {
        bytes32 requestHash = keccak256(
            abi.encodePacked("releaseTokens", currentYear)
        );
        _releaseTokens(requestHash);
    }
&nbsp;
    // Internal function to handle token release logic based on remaining locked supply
    function _releaseTokens(
        bytes32 requestHash
    ) internal multiSigApproval(requestHash) {
        <span class="missing-if-branch" title="else path not taken" >E</span>require(lockedSupply &gt; 0, "All tokens have been released");
&nbsp;
        uint256 annualRelease;
        // Logic to decide release percentage based on the remaining locked supply
        if (currentYear &lt;= 5) {
            releasePercentage = 5; // Years 1-5: 5% release
        } else if (currentYear &lt;= 7) {
            releasePercentage = 4; // Years 6-7: 4% release
        } else {
            releasePercentage = 3; // Years 8 onwards: 3% release
        }
        // Calculate how many tokens to release based on the current locked supply and the release percentage
        annualRelease = calculateAnnualRelease(lockedSupply, releasePercentage);
&nbsp;
        // Ensure we do not release more tokens than what is remaining
        <span class="missing-if-branch" title="if path not taken" >I</span>if (annualRelease &gt; lockedSupply) {
            annualRelease = lockedSupply;
        }
&nbsp;
        // Update the remaining locked supply
        lockedSupply -= annualRelease;
&nbsp;
        // Mint the released tokens to the SuperAdmin
        _mint(superAdmin, annualRelease);
&nbsp;
        emit TokensReleased(currentYear, annualRelease, lockedSupply);
&nbsp;
        // Move to the next year
        currentYear += 1;
    }
&nbsp;
    // Fallback function to accept native TOMAX coins and mint wTOMAX tokens
    receive() external payable {
        wrap();
    }
&nbsp;
    // Function to wrap native TOMAX coins into wTOMAX tokens
    function wrap() public payable <span class="missing-if-branch" title="else path not taken" >E</span>whenNotPausedAndOnlyEOA {
        require(msg.value &gt; 0, "Amount must be greater than 0");
        uint256 totalSupply = totalSupply();
        <span class="missing-if-branch" title="else path not taken" >E</span>require(
            totalSupply + msg.value &lt;= TOTAL_SUPPLY,
            "Cannot mint more than total supply"
        );
&nbsp;
        _mint(msg.sender, msg.value);
        emit Wrapped(msg.sender, msg.value);
    }
&nbsp;
    // Function to unwrap wTOMAX tokens back into native TOMAX coins
    function unwrap(
        uint256 amount
    ) public <span class="missing-if-branch" title="else path not taken" >E</span>nonReentrant <span class="missing-if-branch" title="else path not taken" >E</span>whenNotPausedAndOnlyEOA {
        require(balanceOf(msg.sender) &gt;= amount, "Insufficient wTOMAX balance");
        _burn(msg.sender, amount);
        (bool success, ) = payable(msg.sender).call{value: amount}("");
        <span class="missing-if-branch" title="else path not taken" >E</span>require(success, "Transfer failed");
        emit Unwrapped(msg.sender, amount);
    }
&nbsp;
    // Function for owners to approve withdrawal of funds
    function approveWithdraw(
        uint256 amount
    ) external onlyWhitelisted whenNotPausedAndOnlyEOA {
        bytes32 requestHash = keccak256(
            abi.encodePacked("approveWithdraw", amount)
        );
        // Approval process handled by multiSigApproval modifier
        _approveWithdraw(amount, requestHash);
    }
&nbsp;
    // Internal function to handle withdrawal with multi-sig approval and superAdmin execution
    function _approveWithdraw(
        uint256 amount,
        bytes32 requestHash
    ) internal multiSigApproval(requestHash) {
        require(
            address(this).balance &gt;= amount,
            "Insufficient contract balance"
        );
        (bool success, ) = payable(superAdmin).call{value: amount}(""); // SuperAdmin executes the withdrawal
        <span class="missing-if-branch" title="else path not taken" >E</span>require(success, "Withdrawal failed");
    }
&nbsp;
    // Function for owners to approve any request that needs multi-signature approval
    function approveRequest(string memory functionName) public onlyWhitelisted {
        // Convert the function name (string) to bytes32
        bytes32 fhash = keccak256(abi.encodePacked(functionName, currentYear));
&nbsp;
        require(
            !approvals[fhash][msg.sender],
            "Owner already approved this request."
        );
        approvals[fhash][msg.sender] = true;
&nbsp;
        emit OwnerApproved(msg.sender, fhash);
&nbsp;
        // If the required number of approvals (3 out of 5) is reached, execute the request
        // if (approvalsCount &gt;= REQUIRED_APPROVALS) {
        //     executeRequest(requestHash);
        // }
    }
&nbsp;
    function approveRequestForWithdrawals(
        string memory functionName,
        uint256 amount
    ) public onlyWhitelisted {
        // Convert the function name (string) to bytes32
        bytes32 fhash = keccak256(abi.encodePacked(functionName, amount));
&nbsp;
        require(
            !approvals[fhash][msg.sender],
            "Owner already approved this request."
        );
        approvals[fhash][msg.sender] = true;
&nbsp;
        emit OwnerApproved(msg.sender, fhash);
    }
&nbsp;
    function approveRequestForOwnerChange(
        string memory functionName,
        address ownerToRemove,
        address newOwner
    ) public <span class="missing-if-branch" title="else path not taken" >E</span>onlyWhitelisted {
        // Convert the function name (string) to bytes32
        bytes32 fhash = keccak256(
            abi.encodePacked(functionName, ownerToRemove, newOwner, currentYear)
        );
&nbsp;
        require(
            !approvals[fhash][msg.sender],
            "Owner already approved this request."
        );
        approvals[fhash][msg.sender] = true;
&nbsp;
        emit OwnerApproved(msg.sender, fhash);
    }
&nbsp;
    /**
     * @dev Function to recover tokens accidentally sent to the contract.
     * @param _tokenAddr The token contract address.
     * @param _recoverAddr The address to recover tokens to.
     */
&nbsp;
    function foreignTokenRecover(
        address _tokenAddr,
        address _recoverAddr,
        uint256 _amount
    ) external onlyWhitelisted whenNotPausedAndOnlyEOA {
        IERC20(_tokenAddr).transfer(_recoverAddr, _amount);
    }
&nbsp;
    // Function to change an owner (multi-sig required)
    function changeOwner(
        address ownerToRemove,
        address newOwner
    ) external <span class="missing-if-branch" title="else path not taken" >E</span>onlyWhitelisted <span class="missing-if-branch" title="else path not taken" >E</span>whenNotPausedAndOnlyEOA {
        <span class="missing-if-branch" title="else path not taken" >E</span>require(newOwner != address(0), "Invalid new owner address.");
        <span class="missing-if-branch" title="else path not taken" >E</span>require(isOwner[ownerToRemove], "Owner to remove is not in the list.");
&nbsp;
        <span class="missing-if-branch" title="else path not taken" >E</span>require(!isOwner[newOwner], "New owner is already in the list.");
&nbsp;
        bytes32 requestHash = keccak256(
            abi.encodePacked(
                "changeOwner",
                ownerToRemove,
                newOwner,
                currentYear
            )
        );
&nbsp;
        _changeOwner(ownerToRemove, newOwner, requestHash);
    }
&nbsp;
    // Internal function to handle owner change with multi-sig approval
    function _changeOwner(
        address ownerToRemove,
        address newOwner,
        bytes32 requestHash
    ) internal <span class="missing-if-branch" title="else path not taken" >E</span>multiSigApproval(requestHash) {
        // Remove the old owner from the owners list and mapping
        for (uint256 i = 0; i &lt; owners.length; i++) {
            if (owners[i] == ownerToRemove) {
                owners[i] = owners[owners.length - 1]; // Swap the last element with the one to remove
                owners.pop(); // Remove the last element
                break;
            }
        }
        isOwner[ownerToRemove] = false; // Set the removed owner to false in the isOwner mapping
&nbsp;
        // Add the new owner
        owners.push(newOwner);
        isOwner[newOwner] = true; // Mark the new address as an owner
&nbsp;
        emit OwnerApproved(newOwner, requestHash); // Emit the approval event
    }
}
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Wed Mar 05 2025 18:07:59 GMT+0530 (India Standard Time)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
